{"ast":null,"code":"import _classCallCheck from\"C:/Users/Misha/Desktop/Code/React/react_hw4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Misha/Desktop/Code/React/react_hw4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Misha/Desktop/Code/React/react_hw4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Misha/Desktop/Code/React/react_hw4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Component}from\"react\";import{fetchMovieReviews}from\"../services/movieApi\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Reviews=/*#__PURE__*/function(_Component){_inherits(Reviews,_Component);var _super=_createSuper(Reviews);function Reviews(){var _this;_classCallCheck(this,Reviews);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={movieReviews:null,loading:false,error:null};return _this;}_createClass(Reviews,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({loading:false});fetchMovieReviews(this.props.movDetail.id).then(function(res){return _this2.setState({movieReviews:res.data});}).catch(function(error){return _this2.setState({error:error});}).finally(function(){return _this2.setState({loading:false});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:this.state.movieReviews!==null&&/*#__PURE__*/_jsx(\"div\",{children:this.state.movieReviews.results.length>0?/*#__PURE__*/_jsx(\"div\",{children:this.state.movieReviews.results.map(function(review){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Author:\",review.author]}),/*#__PURE__*/_jsx(\"p\",{children:review.content})]},review.id);})}):/*#__PURE__*/_jsx(\"h2\",{children:\"There is no reviews\"})})});}}]);return Reviews;}(Component);export{Reviews as default};","map":{"version":3,"sources":["C:/Users/Misha/Desktop/Code/React/react_hw4/src/pages/Reviews.js"],"names":["Component","fetchMovieReviews","Reviews","state","movieReviews","loading","error","setState","props","movDetail","id","then","res","data","catch","finally","results","length","map","review","author","content"],"mappings":"wnBAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,iBAAT,KAAkC,sBAAlC,C,2FAEqBC,CAAAA,O,+TACnBC,K,CAAQ,CACNC,YAAY,CAAE,IADR,CAENC,OAAO,CAAE,KAFH,CAGNC,KAAK,CAAE,IAHD,C,oEAMR,4BAAoB,iBAClB,KAAKC,QAAL,CAAc,CAAEF,OAAO,CAAE,KAAX,CAAd,EAEAJ,iBAAiB,CAAC,KAAKO,KAAL,CAAWC,SAAX,CAAqBC,EAAtB,CAAjB,CACGC,IADH,CACQ,SAACC,GAAD,QAAS,CAAA,MAAI,CAACL,QAAL,CAAc,CAAEH,YAAY,CAAEQ,GAAG,CAACC,IAApB,CAAd,CAAT,EADR,EAEGC,KAFH,CAES,SAACR,KAAD,QAAW,CAAA,MAAI,CAACC,QAAL,CAAc,CAAED,KAAK,CAALA,KAAF,CAAd,CAAX,EAFT,EAGGS,OAHH,CAGW,iBAAM,CAAA,MAAI,CAACR,QAAL,CAAc,CAAEF,OAAO,CAAE,KAAX,CAAd,CAAN,EAHX,EAID,C,sBAED,iBAAS,CACP,mBACE,qBACG,KAAKF,KAAL,CAAWC,YAAX,GAA4B,IAA5B,eACC,qBACG,KAAKD,KAAL,CAAWC,YAAX,CAAwBY,OAAxB,CAAgCC,MAAhC,CAAyC,CAAzC,cACC,qBACG,KAAKd,KAAL,CAAWC,YAAX,CAAwBY,OAAxB,CAAgCE,GAAhC,CAAoC,SAACC,MAAD,qBACnC,mCACG,gCAAYA,MAAM,CAACC,MAAnB,GADH,cAEE,mBAAID,MAAM,CAACE,OAAX,EAFF,GAASF,MAAM,CAACT,EAAhB,CADmC,EAApC,CADH,EADD,cAUC,2CAXJ,EAFJ,EADF,CAoBD,C,qBArCkCV,S,SAAhBE,O","sourcesContent":["import { Component } from \"react\";\r\nimport { fetchMovieReviews } from \"../services/movieApi\";\r\n\r\nexport default class Reviews extends Component {\r\n  state = {\r\n    movieReviews: null,\r\n    loading: false,\r\n    error: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ loading: false });\r\n\r\n    fetchMovieReviews(this.props.movDetail.id)\r\n      .then((res) => this.setState({ movieReviews: res.data }))\r\n      .catch((error) => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.movieReviews !== null && (\r\n          <div>\r\n            {this.state.movieReviews.results.length > 0 ? (\r\n              <div>\r\n                {this.state.movieReviews.results.map((review) => (\r\n                  <li key={review.id}>\r\n                    {<h2>Author:{review.author}</h2>}\r\n                    <p>{review.content}</p>\r\n                  </li>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <h2>There is no reviews</h2>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}