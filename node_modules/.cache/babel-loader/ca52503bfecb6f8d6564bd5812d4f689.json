{"ast":null,"code":"import _classCallCheck from\"C:/Users/Misha/Desktop/Code/React/react_hw4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Misha/Desktop/Code/React/react_hw4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Misha/Desktop/Code/React/react_hw4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Misha/Desktop/Code/React/react_hw4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Link,Route}from\"react-router-dom\";import{fetchMovieDetails}from\"../../services/movieApi\";import{Component}from\"react\";import Cast from\"../Cast\";import Reviews from\"../Reviews\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MovieDetailsPage=/*#__PURE__*/function(_Component){_inherits(MovieDetailsPage,_Component);var _super=_createSuper(MovieDetailsPage);function MovieDetailsPage(){var _this;_classCallCheck(this,MovieDetailsPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={moviesDetails:null,error:null,loading:false};_this.goBackFunc=function(){_this.props.history.goBack();};return _this;}_createClass(MovieDetailsPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({loading:true,error:null});fetchMovieDetails(this.props.match.params.movieId).then(function(res){return _this2.setState({moviesDetails:res.data});}).catch(function(error){return _this2.setState({error:error});}).finally(function(){return _this2.setState({loading:false});});}},{key:\"render\",value:function render(){var _this3=this;var moviesDetails=this.state.moviesDetails;return/*#__PURE__*/_jsx(\"div\",{children:moviesDetails!==null&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:this.goBackFunc,children:\"Go back\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"img\",{width:640,alt:\"MovieImage\",src:\"https://image.tmdb.org/t/p/original\".concat(moviesDetails.backdrop_path)}),/*#__PURE__*/_jsxs(\"h2\",{children:[this.state.moviesDetails.title,\"(\",this.state.moviesDetails.release_date,\")\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"user score:\",this.state.moviesDetails.vote_average*10,\"%\"]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Overview\"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.moviesDetails.overview}),/*#__PURE__*/_jsx(\"h2\",{children:\"Genres\"}),this.state.moviesDetails.genres.map(function(obj){return/*#__PURE__*/_jsx(\"p\",{children:obj.name},obj.id);}),/*#__PURE__*/_jsx(\"h2\",{children:\"Additional information\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:this.props.location.pathname.includes(\"cast\")?this.props.match.url:this.props.match.url+\"/cast\",children:\"Cast\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:this.props.location.pathname.includes(\"reviews\")?this.props.match.url:this.props.match.url+\"/reviews\",children:\"Reviews\"})})]}),/*#__PURE__*/_jsx(Route,{path:this.props.match.url+\"/reviews\",render:function render(){return/*#__PURE__*/_jsx(Reviews,{movDetail:_this3.state.moviesDetails});}}),/*#__PURE__*/_jsx(Route,{path:this.props.match.url+\"/cast\",render:function render(){return/*#__PURE__*/_jsx(Cast,{movDetail:_this3.state.moviesDetails});}}),/*#__PURE__*/_jsx(\"div\",{})]})});}}]);return MovieDetailsPage;}(Component);export{MovieDetailsPage as default};","map":{"version":3,"sources":["C:/Users/Misha/Desktop/Code/React/react_hw4/src/pages/MovieDetailsPage/MovieDetailsPage.js"],"names":["Link","Route","fetchMovieDetails","Component","Cast","Reviews","MovieDetailsPage","state","moviesDetails","error","loading","goBackFunc","props","history","goBack","setState","match","params","movieId","then","res","data","catch","finally","backdrop_path","title","release_date","vote_average","overview","genres","map","obj","name","id","location","pathname","includes","url"],"mappings":"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","sourcesContent":["import { Link, Route } from \"react-router-dom\";\r\nimport { fetchMovieDetails } from \"../../services/movieApi\";\r\nimport { Component } from \"react\";\r\nimport Cast from \"../Cast\";\r\nimport Reviews from \"../Reviews\";\r\n\r\nexport default class MovieDetailsPage extends Component {\r\n  state = {\r\n    moviesDetails: null,\r\n    error: null,\r\n    loading: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ loading: true, error: null });\r\n\r\n    fetchMovieDetails(this.props.match.params.movieId)\r\n      .then((res) => this.setState({ moviesDetails: res.data }))\r\n      .catch((error) => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  }\r\n  goBackFunc = () => {\r\n    this.props.history.goBack();\r\n  };\r\n\r\n  render() {\r\n    const { moviesDetails } = this.state;\r\n    return (\r\n      <div>\r\n        {/* {console.log(this.state.moviesDetails)} */}\r\n        {moviesDetails !== null && (\r\n          <div>\r\n            <button onClick={this.goBackFunc}>Go back</button>\r\n            <br></br>\r\n            <img\r\n              width={640}\r\n              alt=\"MovieImage\"\r\n              src={`https://image.tmdb.org/t/p/original${moviesDetails.backdrop_path}`}\r\n            />\r\n            <h2>\r\n              {this.state.moviesDetails.title}(\r\n              {this.state.moviesDetails.release_date})\r\n            </h2>\r\n            <p>user score:{this.state.moviesDetails.vote_average * 10}%</p>\r\n            <h2>Overview</h2>\r\n            <p>{this.state.moviesDetails.overview}</p>\r\n            <h2>Genres</h2>\r\n            {this.state.moviesDetails.genres.map((obj) => (\r\n              <p key={obj.id}>{obj.name}</p>\r\n            ))}\r\n\r\n            <h2>Additional information</h2>\r\n\r\n            <ul>\r\n              <li>\r\n                <Link\r\n                  to={\r\n                    this.props.location.pathname.includes(\"cast\")\r\n                      ? this.props.match.url\r\n                      : this.props.match.url + \"/cast\"\r\n                  }\r\n                >\r\n                  Cast\r\n                </Link>\r\n              </li>\r\n\r\n              <li>\r\n                <Link\r\n                  to={\r\n                    this.props.location.pathname.includes(\"reviews\")\r\n                      ? this.props.match.url\r\n                      : this.props.match.url + \"/reviews\"\r\n                  }\r\n                >\r\n                  Reviews\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n            <Route\r\n              path={this.props.match.url + \"/reviews\"}\r\n              render={() => <Reviews movDetail={this.state.moviesDetails} />}\r\n            />\r\n            <Route\r\n              path={this.props.match.url + \"/cast\"}\r\n              render={() => <Cast movDetail={this.state.moviesDetails} />}\r\n            />\r\n            <div></div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}